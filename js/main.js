// set constants
const presidentTrivia = [
    //1
    {
        question: 'Who is the current president of the United States?',
        answers: [
            'Hillary Clinton','Barack Obama','George Washington', 'Donald Trump'
        ],
        correct: 'Donald Trump'
    },
    //2
    {
        question: 'Who was the first president of the United States?',
        answers: [
            'Thomas Jefferson', 'George Washington', 'Alexander Hamilton', 'John Adams'
        ],
        correct: 'George Washington',
    },
    //3
    {
        question: 'Who was the only U. S. President to also serve as Chief Justice of the Supreme Court?',
        answers: [
            'William Howard Taft', 'Abraham Lincoln', 'Theodore Roosevelt', 'Millard Fillmore',
        ],
        correct: 'William Howard Taft'
    },  
    //4
    {
        question: 'Who was the first U.S. President to be born an American citizen?',
        answers: [
            'Andrew Jackson', 'Martin Van Buren', 'John Quincy Adams', 'William Henry Harrison',
        ],
        correct: 'Martin Van Buren'
    },  
    //5
    {
        question: 'Who was the first President to live in the White House?',
        answers: [
            'George Washington', 'Thomas Jefferson', 'John Adams', 'Harry Truman',
        ],
        correct: 'John Adams'
    }, 
    //6 
    {
        question: 'Which U. S. President made the Louisiana Purchase?',
        answers: [
            'John Adams', 'James Monroe', 'Andrew Jackson', 'Thomas Jefferson',
        ],
        correct: 'Thomas Jefferson'
    },  
    //7
    {
        question: 'Who was the only President to serve more than two terms?',
        answers: [
            'George Washington', 'Franklin Delano Roosevelt', 'Abraham Lincoln', 'Andrew Jackson',
        ],
        correct: 'Franklin Delano Roosevelt'
    },  
    //8    
    {
        question: 'What presidential candidate played a saxophone on The Arsenio Hall Show during his campaign?',
        answers: [
            'George W. Bush', 'Bill Clinton', 'Ronald Reagan', 'Bob Dole',
        ],
        correct: 'Bill Clinton'
    },  
    //9
    {
        question: 'Who was the first President to be impeached?',
        answers: [
            'Bill Clinton', 'Donald Trump', 'Andrew Johnson', 'Richard Nixon',
        ],
        correct: 'Andrew Johnson'
    },  
    //10
    {
        question: 'Who was the youngest U. S. President?',
        answers: [
            'John Fitzgerald Kennedy', 'Bill Clinton', 'Theodore Roosevelt', 'Barack Obama',
        ],
        correct: 'Theodore Roosevelt'
    },
];

const pizzaTrivia = [
    //1
    {
        question: 'Where was the first pizzeria started?',
        answers: [
            'Palermo','New York City','Naples', 'Rome'
        ],
        correct: 'Naples'
    },
    //2
    {
        question: 'When is National Pizza Month?',
        answers: [
            'July', 'October', 'March', 'November'
        ],
        correct: 'October',
    },
    //3
    {
        question: 'Where was the deep dish pizza invented?',
        answers: [
            'Detroit', 'New York City', 'New Haven', 'Chicago',
        ],
        correct: 'Chicago'
    },  
    //4
    {
        question: 'What is the most popular day for pizza?',
        answers: [
            'Saturday', 'Monday', 'Sunday', 'Friday',
        ],
        correct: 'Saturday'
    },  
    //5
    {
        question: 'What is the least popular pizza topping?',
        answers: [
            'Anchovies', 'Pineapple', 'Spinach', 'Mushrooms',
        ],
        correct: 'Anchovies'
    }, 
    //6 
    {
        question: 'What is the most common pizza cheese?',
        answers: [
            'Ricotta', 'Mozzarella', 'Parmesan', 'Provolone',
        ],
        correct: 'Mozzarella'
    },  
    //7
    {
        question: 'What is the top day for pizza consumption in the United States?',
        answers: [
            'Fourth of July', 'New Years Eve', 'Thanksgiving', 'Super Bowl Sunday',
        ],
        correct: 'Super Bowl Sunday'
    },  
    //8    
    {
        question: 'What is the most common topping for pizza?',
        answers: [
            'Olives', 'Cheese', 'Pepperoni', 'Sausage',
        ],
        correct: 'Pepperoni'
    },  
    //9
    {
        question: 'How many slices of pizza does the average American eat in a year?',
        answers: [
            '46', '16', '65', '32',
        ],
        correct: '46'
    },  
    //10
    {
        question: 'What is the largest pizza chain?',
        answers: [
            'Pizza Hut', "Domino's", "Papa John's", 'Chuck E. Cheese',
        ],
        correct: "Domino's"
    },
];

const geographyTrivia = [
    //1
    {
        question: 'What is the largest U.S. state?',
        answers: [
            'California','New York','Alaska', 'Texas'
        ],
        correct: 'Alaska'
    },
    //2
    {
        question: 'What is the smallest U.S. state??',
        answers: [
            'Rhode Island', 'Vermont', 'Hawaii', 'Delaware'
        ],
        correct: 'Rhode Island',
    },
    //3
    {
        question: 'What is the largest lake in North America?',
        answers: [
            'Lake Michigan', 'Lake Superior', 'Lake of the Ozarks', 'Lake Erie',
        ],
        correct: 'Lake Superior'
    },  
    //4
    {
        question: 'What is the largest country?',
        answers: [
            'Italy', 'Brazil', 'Canada', 'Russia',
        ],
        correct: 'Russia'
    },  
    //5
    {
        question: 'What is the capital of Spain?',
        answers: [
            'Barcelona', 'Sevilla', 'Madrid', 'Toledo',
        ],
        correct: 'Madrid'
    }, 
    //6 
    {
        question: 'In which continent is Australia?',
        answers: [
            'North America', 'Europe', 'Australia', 'Africa',
        ],
        correct: 'Australia'
    },  
    //7
    {
        question: 'What is the longest river in the world?',
        answers: [
            'Yangtze', 'Amazon', 'Mississippi', 'Nile',
        ],
        correct: 'Nile'
    },  
    //8    
    {
        question: "What is Africa's tallest mountain?",
        answers: [
            'Kenya', 'Kilimanjaro', 'Mt. Stanley', 'Everest',
        ],
        correct: 'Kilimanjaro'
    },  
    //9
    {
        question: 'What country contains the Suez Canal?',
        answers: [
            'Sudan', 'Israel', 'Suez', 'Egypt',
        ],
        correct: 'Egypt'
    },  
    //10
    {
        question: 'In what continent is Morocco?',
        answers: [
            'Middle East', "South America", "Africa", 'Europe',
        ],
        correct: "Africa"
    },
];

const texasTrivia = [
    //1
    {
        question: 'What year did Texas gain independence?',
        answers: [
            '1776','1836','1845', '1865'
        ],
        correct: '1836'
    },
    //2
    {
        question: 'What is the capital of Texas?',
        answers: [
            'Austin', 'Houston', 'Dallas', 'San Antonio'
        ],
        correct: 'Austin',
    },
    //3
    {
        question: 'Who is the Governor of Texas?',
        answers: [
            'Dan Patrick', 'Rick Perry', 'Ann Richards', 'Gregg Abbott',
        ],
        correct: 'Gregg Abbott'
    },  
    //4
    {
        question: 'What year did Texas join the United States?',
        answers: [
            '1845', '1848', '1789', '1836',
        ],
        correct: '1845'
    },  
    //5
    {
        question: 'What is the largest city in Texas?',
        answers: [
            'El Paso', 'Dallas', 'Austin', 'Houston',
        ],
        correct: 'Houston'
    }, 
    //6 
    {
        question: 'How many people live in Texas?',
        answers: [
            '40 million', '29 million', '25 million', '35 million',
        ],
        correct: '29 million'
    },  
    //7
    {
        question: 'How many presidents were born in Texas?',
        answers: [
            '1', '4', '2', '3',
        ],
        correct: '2'
    },  
    //8    
    {
        question: "What is the longest river in Texas?",
        answers: [
            'Colorado River', 'Sabine River', 'Red River', 'Rio Grande',
        ],
        correct: 'Rio Grande'
    },  
    //9
    {
        question: 'Who was the first President of Texas?',
        answers: [
            'Sam Houston', 'Mirabeau Lamar', 'Rick Perry', 'Lorenzo de Zavala',
        ],
        correct: 'Sam Houston'
    },  
    //10
    {
        question: 'Where is the Alamo?',
        answers: [
            'Corpus Christi', "San Antonio", "Austin", 'Victoria',
        ],
        correct: "San Antonio"
    },
];

// cached elements
const trivia = document.querySelectorAll('.play')
const body = document.querySelector('body');
const instructions = document.querySelector('.instructions');
const instructionsText = document.querySelector('.instructionsText');
const welcome = document.querySelector('.welcome');
const box = document.querySelectorAll('.box');
const triviaMenu = document.querySelector('.trivia-menu');
//how can i select an animation element?? play:hover;

// app state variables
let triviaList, questionNumber, answerList, numberCorrect, numberWrong, answerCheckList, presidentAnswers, pizzaAnswers, texasAnswers, geographyAnswers, currentTrivia;

//event listeners
trivia.forEach(element =>{
   element.addEventListener('click', triviaSelect); 
});
triviaMenu.addEventListener('click', returnToMenu);

// functions
function init() {
    $('.boxes').toggle();
    $('.trivia-menu').toggle();
    console.log('running');
    triviaList = ['U.S. Presidents Trivia','Texas Trivia','Pizza Trivia','Geography Trivia'];
    console.log('trivia list: ' + triviaList);
    answerList = [];
    answerCheckList = [];
    presidentAnswers = [];
    pizzaAnswers = [];
    texasAnswers = [];
    geographyAnswers = [];
    }

function returnToMenu () {
    $('.boxes').toggle();
    $('.answers').hide();
    $('.instructions').toggle();
    $('.trivia-menu').toggle();
    welcome.textContent = 'Welcome to Trivia!';
    $('.questions').addClass('play').removeClass('questions')
    $('.play').toggle().css("background-color", "peru");
    trivia.forEach(function(element,idx){ //change names back
        element.textContent = triviaList[idx];
        idx++;
    })
    console.log('returning to menu');
    answerList = [];
    answerCheckList = [];
    if (presidentAnswers.length>0) {
        $("#trivia1").css("background-color", 'green');
    }
    if (texasAnswers.length>0) {
        $("#trivia2").css("background-color", 'green');
    }
    if (pizzaAnswers.length>0) {
        $("#trivia3").css("background-color", 'green');
    }
    if (geographyAnswers.length>0) {
        $("#trivia4").css("background-color", 'green');
    }
    body.style.backgroundColor = 'slategray';
}

function triviaSelect() {
    if (event.target.innerHTML === 'U.S. Presidents Trivia') {
        console.log('Selected U.S. Presidents Trivia');
        body.style.backgroundColor = 'navy';
        $('.instructions').toggle();
        questionNumber = 1;
        $('.play').addClass('questions').removeClass('play');
        presidents(); //presidents trivia run
    }
    if (event.target.innerHTML === 'Pizza Trivia') {
        console.log('Selected Pizza Trivia');
        body.style.backgroundColor = 'tomato';
        $('.instructions').toggle();
        questionNumber = 1;
        $('.play').addClass('questions').removeClass('play');
        pizza(); //Pizza Trivia run
    }
    if (event.target.innerHTML === 'Texas Trivia') {
        console.log('Selected Texas Trivia');
        body.style.backgroundColor = 'darkred';
        $('.instructions').toggle();
        questionNumber = 1;
        $('.play').addClass('questions').removeClass('play');
        texas(); //texas Trivia run   
    }
    if (event.target.innerHTML === 'Geography Trivia') {
        console.log('Selected Geography Trivia');
        body.style.backgroundColor = 'steelblue';
        $('.instructions').toggle();
        questionNumber = 1;
        $('.play').addClass('questions').removeClass('play');
        geography(); //Geography Trivia run 
    }
}

function texas() {
    answerCheckList = [];
    currentTrivia = 'texas'
    console.log('TEXAS TRIVIA RUNNING');
    console.log('Question number: ' + questionNumber);
    welcome.textContent = texasTrivia[0].question;
    trivia.forEach(function(element, idx) {
        console.log('play buttons changing text content')
        element.textContent = texasTrivia[0].answers[idx];
        element.style.backgroundColor = 'midnightblue';
        idx++;
    })
    $('.questions').on(
        'click', 
        function(event) {
            if (currentTrivia !== 'texas') {
                return;
            }
            console.log('jquery texas click function running')
            let text = event.target.textContent;
            console.log(text);
            answerList.push(text); //add to answer array
            if (questionNumber === texasTrivia.length) { //end function if out of questions
                render();
                return;
                }
            console.log(answerList);
            welcome.textContent = texasTrivia[questionNumber].question;
            trivia.forEach(function(element,idx){
                element.textContent = texasTrivia[questionNumber].answers[idx];
                console.log('Text content for ' + element + ' : ' + element.textContent); 
                idx++; //iterate
            })
            questionNumber++
            console.log("new question number is: "+ questionNumber);
        }
    )
}

function geography() {
    answerCheckList = [];
    currentTrivia = 'geography'
    console.log('GEOGRAPHY TRIVIA RUNNING');
    console.log('Question number: ' + questionNumber);
    welcome.textContent = geographyTrivia[0].question;
    trivia.forEach(function(element, idx) {
        console.log('play buttons changing text content')
        element.textContent = geographyTrivia[0].answers[idx];
        element.style.backgroundColor = 'darkgreen';
        idx++;
    })
    $('.questions').on(
        'click', 
        function(event) {
            if (currentTrivia !== 'geography') {
                return;
            }
            console.log('jquery geography click function running')
            let text = event.target.textContent;
            console.log(text);
            answerList.push(text); //add to answer array
            if (questionNumber === geographyTrivia.length) { //end function if out of questions
                render();
                return;
                }
            console.log(answerList);
            welcome.textContent = geographyTrivia[questionNumber].question;
            trivia.forEach(function(element,idx){
                element.textContent = geographyTrivia[questionNumber].answers[idx];
                console.log('Text content for ' + element + ' : ' + element.textContent); 
                idx++; //iterate
            })
            questionNumber++
            console.log("new question number is: "+ questionNumber);
        }
    )
}

function pizza() {
    answerCheckList = [];
    currentTrivia = 'pizza'
    console.log('PIZZA TRIVIA RUNNING');
    console.log('Question number: ' + questionNumber);
    welcome.textContent = pizzaTrivia[0].question;
    trivia.forEach(function(element, idx) {
        console.log('play buttons changing text content')
        element.textContent = pizzaTrivia[0].answers[idx];
        element.style.backgroundColor = 'peru';
        idx++;
    })
    $('.questions').on(
        'click', 
        function(event) {
            if (currentTrivia !== 'pizza') {
                return;
            }
            console.log('jquery pizza click function running')
            let text = event.target.textContent;
            console.log(text);
            answerList.push(text); //add to answer array
            if (questionNumber === pizzaTrivia.length) { //end function if out of questions
                render();
                return;
                }
            console.log(answerList);
            welcome.textContent = pizzaTrivia[questionNumber].question;
            trivia.forEach(function(element,idx){
                element.textContent = pizzaTrivia[questionNumber].answers[idx];
                console.log('Text content for ' + element + ' : ' + element.textContent); 
                idx++; //iterate
            })
            questionNumber++
            console.log("new question number is: "+ questionNumber);
        }
    )
}


function presidents() {
    answerCheckList = [];
    currentTrivia = 'presidents'
    console.log('PRESIDENTS TRIVIA RUNNING')
    console.log('PRESIDENT TRIVIA QUESTION NUMBER = ' + questionNumber)
    welcome.textContent = presidentTrivia[0].question;
    trivia.forEach(function(element, idx) {
        element.textContent = presidentTrivia[0].answers[idx]; //change button text content
        element.style.backgroundColor = 'firebrick'
        idx++; //iterate
    });
    $('.questions').on(
        'click', 
        function(event) {
            if (currentTrivia !== 'presidents') {
                return;
            }            
            console.log('jquery presidents click function running') 
            let text = event.target.textContent;
            console.log(text);
            answerList.push(text); //add to answer array
            if (questionNumber === presidentTrivia.length) { //end function if out of questions
                render();
                return;
                }
            console.log(answerList);
            welcome.textContent = presidentTrivia[questionNumber].question;
            trivia.forEach(function(element,idx){
                element.textContent = presidentTrivia[questionNumber].answers[idx];
                console.log('Text content for ' + element + ' : ' + element.textContent); 
                idx++; //iterate
            })
            questionNumber++
            console.log("new question number is: "+ questionNumber);
        }
    )
};

function render() {
    numberCorrect = 0;
    correctIndex = [];
    console.log("RENDER FUNCTION");
    console.log(answerList);  // ==> working now
    console.log('current trivia is: '+currentTrivia)
    if (currentTrivia === 'presidents') {
        presidentTrivia.forEach(function(element,idx) {
            if (element.correct === answerList[idx]) {
                answerCheckList.push('1');
            }
            if (element.correct !== answerList[idx]) {
                answerCheckList.push('0');
            }
            idx++
        })
        presidentAnswers = answerCheckList;
    };

    if (currentTrivia === 'pizza') {
        pizzaTrivia.forEach(function(element,idx) {
            if (element.correct === answerList[idx]) {
                answerCheckList.push('1');
            }
            if (element.correct !== answerList[idx]) {
                answerCheckList.push('0');
            }
            idx++
        });
        pizzaAnswers = answerCheckList;
    };
    if (currentTrivia === 'texas') {
        texasTrivia.forEach(function(element,idx) {
            if (element.correct === answerList[idx]) {
                answerCheckList.push('1');
            }
            if (element.correct !== answerList[idx]) {
                answerCheckList.push('0');
            }
            idx++
        });
        texasAnswers = answerCheckList;
    };
    if (currentTrivia === 'geography') {
        geographyTrivia.forEach(function(element,idx) {
            if (element.correct === answerList[idx]) {
                answerCheckList.push('1');
            }
            if (element.correct !== answerList[idx]) {
                answerCheckList.push('0');
            }
            idx++
        });
        geographyAnswers = answerCheckList;
    };
    
    console.log('answerCheckList = '+ answerCheckList);
    // check answerlist against correct answers
    $('.questions').toggle(); //remove buttonz
    for (i=0;i<answerCheckList.length;i++) {
        if (answerCheckList[i] === '1') {
            numberCorrect++;
        }
    }
    welcome.textContent = 'You answered ' + numberCorrect + " out of " + answerList.length + " correctly.";
    drawAnswers();
    drawBoxes();
    $('.trivia-menu').toggle();
}

function drawAnswers() {
    // this function will show all answers and their selection
    let answerElement = document.createElement('answers');
    answerElement.className = "answers"
    body.appendChild(answerElement)
    answerElement.append('Your Answers: ' + answerList);
    answerElement.style.fontSize = '20px';
}  

function drawBoxes() {
    $('.boxes').toggle();
    console.log('correct indices for drawBoxes = ' +correctIndex);
    box.forEach(function(element, idx, box) {
        // console.log('box is: '+box[idx].id);
        if (answerCheckList[idx] === '1') {
            console.log("Box #" + box[idx].id + ' is correct --- changing to green')
            box[idx].style.backgroundColor = 'chartreuse';
        }
        if (answerCheckList[idx] === '0') {
            box[idx].style.backgroundColor= 'darkred';
        }
        box[idx].innerHTML = '';
        idx++
    });  
}

//call functions
init();